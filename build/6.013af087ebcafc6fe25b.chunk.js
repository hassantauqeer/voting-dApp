webpackJsonp([6],{"./app/components/NewTask/index.js":function(e,t,n){"use strict";function r(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(o,a){try{var i=t[o](a),s=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(s).then(function(e){r("next",e)},function(e){r("throw",e)});e(s)}return r("next")})}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=n("./node_modules/react/react.js"),u=n.n(s),c=n("./node_modules/antd/lib/index.js"),l=(n.n(c),n("./Solidity_Contract/VotingInstance.js")),f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,n,r,o){var a=t&&t.defaultProps,i=arguments.length-3;if(n||0===i||(n={}),n&&a)for(var s in a)void 0===n[s]&&(n[s]=a[s]);else n||(n=a||{});if(1===i)n.children=o;else if(i>1){for(var u=Array(i),c=0;c<i;c++)u[c]=arguments[c+3];n.children=u}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),m=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),d=c.Form.Item,v=c.Modal.confirm,h=function(e){function t(e){var n=this;o(this,t);var i=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return i.confirmModal=function(){var e=i;v({title:"Creating Task",content:p("div",{},void 0,"Task: ",p("b",{},void 0,i.props.home.newTask.name)," will end on ",p("i",{},void 0,new Date(i.props.home.newTask.date).toString()),"."),onOk:function(){e.handleOk()},onCancel:function(){}})},i.handleOk=r(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i.setState({loading:!0}),e.next=3,l.a.methods.createTask(i.props.home.newTask.name,i.props.home.newTask.date).send({from:i.props.home.currentAccountInfo.currentAccount,gas:"1000000"});case 3:t=e.sent,console.log(t,"sss"),t.events.TaskCreated&&(i.props.addNewTask({newTask:{owner:i.props.home.currentAccountInfo.currentAccount,name:i.props.home.newTask.name,endingTime:i.props.home.newTask.date,voteCount:0,approved:!1,complete:!1},totalTasks:t.events.TaskCreated.returnValues[0]}),i.setState({loading:!1}));case 6:case"end":return e.stop()}},e,n)})),i.handleSubmit=function(e){e.preventDefault(),i.props.form.validateFields(function(){var e=r(regeneratorRuntime.mark(function e(t,r){var o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=2;break}return e.abrupt("return");case 2:o=f({},r,{time:r.time.format("hh:mm")}),i.confirmModal(),console.log("Received values of form: ",o);case 5:case"end":return e.stop()}},e,n)}));return function(t,n){return e.apply(this,arguments)}}())},i.disabledMinutes=function(){var e=i.props.form.getFieldValue("time")&&i.props.form.getFieldValue("time")._d.getHours(),t=new Date,n=[],r=t.getHours();if(void 0===i.props.form.getFieldValue("time")){for(var o=t.getMinutes(),a=0;a<=o;a++)n[a]=a;return n}if(e===r){for(var o=t.getMinutes(),a=0;a<=o;a++)n[a]=a;return n}return n},i.disabledHours=function(){for(var e=new Date,t=[],n=e.getHours(),r=0;r<n;r++)t[r]=r;return t},i.state={loading:!1,modal:""},i}return i(t,e),m(t,[{key:"render",value:function(){var e=this,t=this.props.home.contractData,n={rules:[{type:"object",required:!0,message:"Please select time!"}]},r=this.props.form.getFieldDecorator;return p(c.Card,{loading:!t.contractLoaded,title:"Create a new Task",style:{width:"50%",textAlign:"center",marginTop:50}},void 0,p(c.Form,{onSubmit:this.handleSubmit},void 0,p(d,{className:"custom-form-item",label:"Task Name"},void 0,r("name",{rules:[{required:!0,message:"Task Name is Required!"}]})(p(c.Input,{onChange:function(t){return e.props.setTaskData({varName:"name",val:t.target.value})},prefix:p(c.Icon,{type:"tag",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Task Name"}))),p(d,{className:"custom-form-item",label:"Task will end at"},void 0,r("time",n)(p(c.TimePicker,{onChange:function(t){return e.props.setTaskData({varName:"date",val:t._d.getTime()})},minuteStep:3,format:"HH:mm",disabledMinutes:this.disabledMinutes,disabledHours:this.disabledHours}))),p(c.Button,{loading:this.state.loading,style:{width:"100%"},type:"primary",htmlType:"submit",className:"login-form-button"},void 0,"Create task")))}}]),t}(u.a.Component);t.default=c.Form.create()(h)}});